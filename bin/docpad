#!/usr/bin/env coffee
DocPad = require("#{__dirname}/../lib/docpad.coffee")
ConsoleInterface = require("#{__dirname}/../lib/consoleinterface.coffee")

# Create Program
program = require("#{__dirname}/../node_modules/commander/index.js")

# Create DocPad
docpadConfig = 
	skeleton: program.skeleton
	port: program.port
docpad = DocPad.createInstance docpadConfig, (err) ->
	# Check
	throw err  if err

	# Create Console Interface
	consoleInterface = new ConsoleInterface({docpad,program})

	# Start
	consoleInterface.start()